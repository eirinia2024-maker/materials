<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Power English ‚Äî –≤–∏—Ç—Ä–∏–Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</title>
  <style>
    /*
      –î–ò–ó–ê–ô–ù: –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω readwithowly.ru ‚Äî —Å–≤–µ—Ç–ª—ã–π, —á–∏—Å—Ç—ã–π, —Å –º—è–≥–∫–∏–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∏ –±–æ–ª—å—à–∏–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏.
      (–ù–µ –∫–æ–ø–∏—Ä—É–µ–º –∫–æ–¥/—Å—Ç–∏–ª–∏ —Å–∞–π—Ç–∞ 1:1 ‚Äî –¥–µ–ª–∞–µ–º –ø–æ—Ö–æ–∂–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ.)
    */

    :root{
      --bg: #f6f7fb;
      --paper: #ffffff;
      --text: #0f172a;
      --muted: #475569;
      --line: rgba(15,23,42,.10);
      --shadow: 0 10px 30px rgba(15,23,42,.10);
      --shadow2: 0 18px 60px rgba(15,23,42,.16);
      --radius: 18px;

      /* ‚úÖ –ë–æ–ª—å—à–µ —Ü–≤–µ—Ç–∞, –Ω–æ –≤ —Ç–æ–º –∂–µ "—á–∏—Å—Ç–æ–º" —Å—Ç–∏–ª–µ */
      --accent: #ef4444;    /* –∫—Ä–∞—Å–Ω—ã–π */
      --accent2: #2563eb;   /* —Å–∏–Ω–∏–π */
      --mint: #10b981;      /* –º—è—Ç–Ω—ã–π */
      --sun: #f59e0b;       /* —Ç—ë–ø–ª—ã–π –∂—ë–ª—Ç—ã–π */

      --softBlue: rgba(37,99,235,.12);
      --softRed:  rgba(239,68,68,.10);
      --softMint: rgba(16,185,129,.10);
      --softSun:  rgba(245,158,11,.10);
    }

    *{ box-sizing:border-box; }
    html,body{
      margin:0;
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      /* ‚úÖ –ß—É—Ç—å –±–æ–ª–µ–µ "–∂–∏–≤–æ–π" —Ñ–æ–Ω, –Ω–æ –≤—Å—ë –µ—â—ë –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π */
      background:
        radial-gradient(1200px 700px at 12% -10%, var(--softBlue), transparent 60%),
        radial-gradient(1000px 600px at 92% 0%, var(--softRed), transparent 62%),
        radial-gradient(900px 700px at 55% 110%, var(--softMint), transparent 60%),
        linear-gradient(180deg, #f7f8ff 0%, #f6f7fb 55%, #f4f7ff 100%);
    }

    a{ color:inherit; text-decoration:none; }

    .wrap{
      max-width: 1120px;
      margin: 0 auto;
      padding: 18px 18px 72px;
    }

    /* =========================
       TOP NAV
       ========================= */
    .topbar{
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(246,247,251,.72);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(15,23,42,.06);
    }

    .topbar-inner{
      max-width: 1120px;
      margin: 0 auto;
      padding: 12px 18px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 14px;
      flex-wrap: wrap;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 220px;
    }

    /* –õ–æ–≥–æ-–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä: –º–æ–∂–µ—à—å –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, owly) */
    .logo{
      width: 38px;
      height: 38px;
      border-radius: 12px;
      background: linear-gradient(135deg, rgba(37,99,235,.18), rgba(239,68,68,.14));
      border: 1px solid rgba(15,23,42,.08);
      display:grid;
      place-items:center;
      font-weight: 800;
      color: rgba(15,23,42,.75);
      user-select:none;
    }

    .brand-title{
      display:flex;
      flex-direction:column;
      gap: 2px;
      line-height: 1.1;
    }

    .brand-title b{ font-size: 14px; letter-spacing: .2px; }
    .brand-title span{ font-size: 12px; color: var(--muted); }

    .actions{
      display:flex;
      gap: 10px;
      align-items:center;
      flex-wrap: wrap;
    }

    .search{
      display:flex;
      align-items:center;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: var(--paper);
      border: 1px solid rgba(15,23,42,.10);
      box-shadow: 0 8px 20px rgba(15,23,42,.06);
    }

    .search input{
      width: min(360px, 56vw);
      border: none;
      outline: none;
      font-size: 14px;
      background: transparent;
      color: var(--text);
    }

    .btn{
      border: 1px solid rgba(15,23,42,.12);
      background: var(--paper);
      color: var(--text);
      padding: 8px 10px; /* ‚Üê ~30% –º–µ–Ω—å—à–µ */
      border-radius: 14px;
      cursor:pointer;
      transition: transform .08s ease, box-shadow .15s ease, border-color .15s ease;
      box-shadow: 0 10px 24px rgba(15,23,42,.06);
      user-select:none;
      white-space: nowrap;
      font-weight: 600;
      font-size: 14px;
    }
    .btn:hover{ border-color: rgba(37,99,235,.35); box-shadow: 0 12px 26px rgba(15,23,42,.10); }
    .btn:active{ transform: translateY(1px); }

    .btn.primary{
      border-color: rgba(37,99,235,.28);
      background: linear-gradient(180deg, rgba(37,99,235,.14), rgba(255,255,255,1));
    }

    /* –õ—ë–≥–∫–∞—è —Ü–≤–µ—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å —Å–∏–ª—å–Ω–µ–µ –∞–∫—Ü–µ–Ω—Ç ‚Äî –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —è—Ä—á–µ) */
    a.btn.primary{ color: rgba(15,23,42,.95); }

    /* =========================
       HERO
       ========================= */
    .hero{
      margin-top: 18px;
      background:
        linear-gradient(180deg, rgba(255,255,255,1), rgba(255,255,255,.92)),
        radial-gradient(700px 260px at 12% 20%, var(--softBlue), transparent 65%),
        radial-gradient(620px 260px at 88% 10%, var(--softRed), transparent 65%),
        radial-gradient(560px 260px at 60% 120%, var(--softMint), transparent 65%);
      border: 1px solid rgba(15,23,42,.08);
      border-radius: 24px;
      box-shadow: var(--shadow);
      padding: 26px;
      display:block;
      overflow:hidden;
      position: relative;
    }
    .hero:before{
      content:"";
      position:absolute;
      inset:-1px;
      background:
        radial-gradient(500px 240px at 15% 10%, rgba(37,99,235,.10), transparent 60%),
        radial-gradient(500px 260px at 90% 0%, rgba(239,68,68,.10), transparent 60%);
      pointer-events:none;
    }
    .hero > *{ position:relative; }

    .hero h1{
      margin:0;
      font-size: clamp(26px, 3.2vw, 36px);
      line-height: 1.05;
      letter-spacing: -0.2px;
    }
    .hero p{
      margin: 10px 0 0;
      color: var(--muted);
      line-height: 1.55;
      font-size: 14.5px;
      max-width: 62ch;
    }
    .hero-badges{
      margin-top: 14px;
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .badge{
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(37,99,235,.06);
      font-size: 12.5px;
      color: rgba(15,23,42,.85);
      font-weight: 600;
    }

    /* ‚úÖ –ö–Ω–æ–ø–∫–∏-—Ñ–∏–ª—å—Ç—Ä—ã (chips) */
    .chip{
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(255,255,255,.92);
      font-size: 12.5px;
      color: rgba(15,23,42,.88);
      font-weight: 750;
      cursor: pointer;
      box-shadow: 0 10px 24px rgba(15,23,42,.06);
      transition: transform .08s ease, border-color .15s ease, background .15s ease;
      user-select:none;
    }
    .chip:hover{ border-color: rgba(37,99,235,.35); }
    .chip:active{ transform: translateY(1px); }
    .chip.active{
      border-color: rgba(37,99,235,.35);
      background:
        linear-gradient(180deg, rgba(37,99,235,.14), rgba(255,255,255,1));
    }

    /* ‚úÖ –ª—ë–≥–∫–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–æ —Ç–∏–ø—É —Ñ–∏–ª—å—Ç—Ä–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –∫—Ä–∞—Å–∏–≤–æ) */
    .chip[data-filter="grammar"].active{ border-color: rgba(239,68,68,.35); background: linear-gradient(180deg, rgba(239,68,68,.14), rgba(255,255,255,1)); }
    .chip[data-filter="reading"].active{ border-color: rgba(16,185,129,.35); background: linear-gradient(180deg, rgba(16,185,129,.14), rgba(255,255,255,1)); }
    .chip[data-filter="thematic"].active{ border-color: rgba(245,158,11,.35); background: linear-gradient(180deg, rgba(245,158,11,.14), rgba(255,255,255,1)); }
    .chip[data-filter="other"].active{ border-color: rgba(37,99,235,.35); background: linear-gradient(180deg, rgba(37,99,235,.14), rgba(255,255,255,1)); }

    .hero-card{
      border-radius: 18px;
      border: 1px solid rgba(15,23,42,.10);
      background: linear-gradient(180deg, rgba(255,255,255,1), rgba(37,99,235,.04));
      padding: 16px;
      display:flex;
      flex-direction: column;
      gap: 10px;
      box-shadow: 0 12px 30px rgba(15,23,42,.08);
      align-self: start;
    }
    .hero-card b{ font-size: 13px; }
    .hero-card small{ color: var(--muted); line-height: 1.45; }

    @media (max-width: 860px){
      .hero{ grid-template-columns: 1fr; }
    }

    /* =========================
       SECTION HEADER
       ========================= */
    .section-head{
      margin-top: 22px;
      display:flex;
      align-items:flex-end;
      justify-content: space-between;
      gap: 14px;
      flex-wrap: wrap;
    }
    .section-head h2{
      margin:0;
      font-size: 18px;
      letter-spacing: .1px;
    }
    .section-head p{
      margin:0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
      max-width: 70ch;
    }

    /* =========================
       GRID CARDS
       ========================= */
    .grid{
      margin-top: 14px;
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
    }

    .card{
      grid-column: span 3; /* 4 –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —Ä—è–¥ */
      background:
        linear-gradient(180deg, rgba(255,255,255,1), rgba(37,99,235,.03));
      border: 1px solid rgba(15,23,42,.10);
      border-radius: var(--radius);
      box-shadow: 0 14px 32px rgba(15,23,42,.08);
      overflow:hidden;
      display:flex;
      flex-direction: column;
      min-height: 224px;
      position: relative;
    }

    /* —Ç–æ–Ω–∫–∞—è —Ü–≤–µ—Ç–Ω–∞—è –ø–æ–ª–æ—Å–∫–∞ —Å–≤–µ—Ä—Ö—É –∫–∞—Ä—Ç–æ—á–∫–∏ (–∫–∞–∫ –∞–∫—Ü–µ–Ω—Ç) */
    .card::before{
      content:"";
      position:absolute;
      left:0; right:0; top:0;
      height: 4px;
      background: linear-gradient(90deg, rgba(37,99,235,.9), rgba(239,68,68,.85), rgba(16,185,129,.85), rgba(245,158,11,.9));
      opacity: .55;
    }

    @media (max-width: 980px){
      .card{ grid-column: span 6; }
    }
    @media (max-width: 620px){
      .card{ grid-column: span 12; }
      .search input{ width: 46vw; }
    }

    /* ‚úÖ –ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è –æ–±–ª–æ–∂–∫–∞ –±–µ–∑ –æ–±—Ä–µ–∑–∫–∏ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫) */
    .thumb{
      cursor: pointer;
      border: none;
      width: 100%;
      text-align: left;
      font: inherit;
      background: none;
      display:flex;
      align-items:center;
      justify-content:center;

      /* ‚úÖ –±–æ–ª–µ–µ —Ü–≤–µ—Ç–Ω–∞—è, –Ω–æ –º—è–≥–∫–∞—è –ø–æ–¥–ª–æ–∂–∫–∞ */
      aspect-ratio: 1 / 1;
      background:
        radial-gradient(220px 160px at 18% 18%, var(--softBlue), transparent 65%),
        radial-gradient(220px 160px at 82% 22%, var(--softRed), transparent 65%),
        radial-gradient(240px 180px at 60% 90%, var(--softMint), transparent 65%),
        linear-gradient(180deg, rgba(37,99,235,.06), rgba(239,68,68,.04));
      border-bottom: 1px solid rgba(15,23,42,.08);
      padding: 7px;
    }

    .thumb img{
      pointer-events: none; /* —á—Ç–æ–±—ã –∫–ª–∏–∫ –≤—Å–µ–≥–¥–∞ –ø–æ–ø–∞–¥–∞–ª –≤ –∫–Ω–æ–ø–∫—É-–æ–±–ª–æ–∂–∫—É */
      width: 100%;
      height: 100%;
      object-fit: contain;
      display:block;
      border-radius: 12px;
      background: rgba(255,255,255,.75);
      border: 1px solid rgba(15,23,42,.08);
    }

    .card-body{
      padding: 10px 10px 9px; /* ‚Üê ~30% –º–µ–Ω—å—à–µ */
      display:flex;
      flex-direction: column;
      gap: 7px; /* ‚Üê ~30% –º–µ–Ω—å—à–µ */
      flex:1;
    }

    .title{
      margin:0;
      font-size: 14px; /* ‚Üê ~30% –º–µ–Ω—å—à–µ */
      line-height: 1.25;
      letter-spacing: .1px;
    }

    .desc{
      margin:0;
      color: var(--muted);
      font-size: 12px; /* ‚Üê ~30% –º–µ–Ω—å—à–µ */
      line-height: 1.45;
      flex:1;
    }

    .row{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 4px;
    }

    .pill{
      font-size: 12px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.10);
      background: rgba(37,99,235,.08);
      color: rgba(15,23,42,.85);
      font-weight: 800;
      white-space: nowrap;
    }

    .price{
      font-weight: 800;
      color: rgba(15,23,42,.88);
      font-size: 13px;
    }

    .card-actions{
      display:flex;
      gap: 10px;
      margin-top: 10px;
    }

    /* =========================
       MODAL
       ========================= */
    .overlay{
      position: fixed;
      inset: 0;
      background: rgba(15,23,42,.55);
      backdrop-filter: blur(8px);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 100;
    }

    .modal{
      width: min(980px, 100%);
      background: var(--paper);
      border-radius: 22px;
      border: 1px solid rgba(15,23,42,.12);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }

    .modal-top{
      display:flex;
      align-items:center;
      justify-content: space-between;
      padding: 14px 16px;
      border-bottom: 1px solid rgba(15,23,42,.08);
      background: linear-gradient(180deg, rgba(37,99,235,.05), rgba(255,255,255,1));
    }

    .modal-top b{ font-size: 14px; }

    .xbtn{
      width: 40px;
      height: 40px;
      border-radius: 14px;
      border: 1px solid rgba(15,23,42,.12);
      background: #fff;
      cursor:pointer;
      font-size: 18px;
      display:grid;
      place-items:center;
      box-shadow: 0 10px 24px rgba(15,23,42,.06);
    }

    .modal-content{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
    }

    @media (max-width: 880px){
      .modal-content{ grid-template-columns: 1fr; }
    }

    /* Carousel */
    .carousel{
      position: relative;
      background: linear-gradient(180deg, rgba(37,99,235,.07), rgba(239,68,68,.05));
      border-right: 1px solid rgba(15,23,42,.08);
      min-height: 360px;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 16px;
    }

    .carousel img{
      /* ‚úÖ –ü—Ä–µ–≤—å—é –∫–∞–∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ A4 (–ø–æ—Ä—Ç—Ä–µ—Ç): —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ 1 : 1.414 */
      width: min(420px, 100%);
      aspect-ratio: 1 / 1.4142;
      height: auto;
      max-height: 70vh;
      object-fit: contain;
      border-radius: 16px;
      background: rgba(255,255,255,.8);
      border: 1px solid rgba(15,23,42,.10);
      display:block;
    }

    .nav{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      width: 44px;
      height: 44px;
      border-radius: 14px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.92);
      cursor:pointer;
      display:grid;
      place-items:center;
      box-shadow: 0 10px 24px rgba(15,23,42,.08);
      user-select:none;
      font-size: 18px;
    }

    .nav.left{ left: 16px; }
    .nav.right{ right: 16px; }

    .dots{
      position:absolute;
      left:0; right:0; bottom: 14px;
      display:flex;
      justify-content:center;
      gap: 8px;
      padding: 0 12px;
    }

    .dot{
      width: 9px;
      height: 9px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.18);
      background: rgba(15,23,42,.10);
      cursor:pointer;
    }

    .dot.active{
      background: rgba(239,68,68,.55);
      border-color: rgba(239,68,68,.55);
    }

    .info{
      padding: 16px;
      display:flex;
      flex-direction: column;
      gap: 10px;
    }

    .info h3{
      margin:0;
      font-size: 20px;
      letter-spacing: -.1px;
      line-height: 1.2;
    }

    .info p{
      margin:0;
      color: var(--muted);
      line-height: 1.55;
      font-size: 14px;
      white-space: pre-line;
    }

    .buybar{
      margin-top:auto;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
      padding-top: 12px;
      border-top: 1px solid rgba(15,23,42,.08);
    }

    .muted{
      font-size: 12.5px;
      color: var(--muted);
      line-height: 1.4;
    }

    footer{
      margin-top: 26px;
      color: var(--muted);
      font-size: 12.5px;
      line-height: 1.5;
    }

    footer a{ color: var(--accent2); text-decoration: underline; }

  </style>
</head>
<body>

  <!-- TOP NAV -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <!-- ‚úÖ –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ª–æ–≥–æ—Ç–∏–ø-—Å–æ–≤—ë–Ω–∫–∞: –ø–æ–ª–æ–∂–∏ —Ñ–∞–π–ª –≤ img/logo.png –∏ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π img –Ω–∏–∂–µ -->
        <!-- <img src="img/logo.png" alt="Power English" style="width:38px;height:38px;border-radius:12px;object-fit:cover;border:1px solid rgba(15,23,42,.10)"> -->
        <div class="logo">PE</div>
        <div class="brand-title">
          <b>Power English</b>
          <span>–≤–∏—Ç—Ä–∏–Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</span>
        </div>
      </div>

      <div class="actions">
        <div class="search" title="–ü–æ–∏—Å–∫ –ø–æ —Ç–æ–≤–∞—Ä–∞–º">
          üîé <input id="q" type="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Ç–æ–≤–∞—Ä–∞–º‚Ä¶" />
        </div>
        <a class="btn" href="https://edberries.store/power-english/" target="_blank" rel="noopener">Edberries</a>
        <a class="btn primary" href="https://vk.ru/eirinia" target="_blank" rel="noopener">–ö—É–ø–∏—Ç—å –≤ VK</a>
      </div>
    </div>
  </div>

  <div class="wrap">

    <!-- HERO -->
    <section class="hero">
      <div>
        <h1>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ ‚Äî
          <span style="color:var(--accent2)">–≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</span>
        </h1>

        <div class="hero-badges" aria-label="–§–∏–ª—å—Ç—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–∞">
          <!-- ‚úÖ –§–ò–õ–¨–¢–†–´: –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π.
               –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ ‚Äî –≤–Ω–∏–∑—É –≤ JS.
               –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∑–∞–¥–∞—ë—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤–µ PRODUCTS –ø–æ–ª–µ–º category. -->
          <button class="chip active" type="button" data-filter="all">–í—Å–µ</button>
          <button class="chip" type="button" data-filter="grammar">–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</button>
          <button class="chip" type="button" data-filter="reading">–ß—Ç–µ–Ω–∏–µ</button>
          <button class="chip" type="button" data-filter="thematic">–¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É—Ä–æ–∫–∏</button>
          <button class="chip" type="button" data-filter="other">–î—Ä—É–≥–æ–µ</button>
        </div>
      </div>
    </section>

    <!-- SECTION HEAD -->
    
      </div>
    </div>

    <!-- GRID -->
    <section id="grid" class="grid" aria-label="–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤"></section>

    <!-- (–§—É—Ç–µ—Ä —É–±—Ä–∞–Ω –ø–æ –≤–∞—à–µ–π –ø—Ä–æ—Å—å–±–µ) -->


  </div>

  <!-- MODAL -->
  <div id="overlay" class="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modal-top">
        <b>–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</b>
        <button id="close" class="xbtn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>

      <div class="modal-content">
        <div class="carousel">
          <button id="prev" class="nav left" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ">‚Äπ</button>
          <img id="bigImg" alt="" />
          <button id="next" class="nav right" aria-label="–°–ª–µ–¥—É—é—â–µ–µ">‚Ä∫</button>
          <div id="dots" class="dots"></div>
        </div>

        <div class="info">
          <h3 id="mTitle">–ù–∞–∑–≤–∞–Ω–∏–µ</h3>
          <p id="mDesc">–û–ø–∏—Å–∞–Ω–∏–µ</p>

          <div class="buybar">
            <div>
              <!-- –¶–µ–Ω–∞ —Ç–µ–ø–µ—Ä—å –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ (–ø–æ —Ç–≤–æ–µ–π –ø—Ä–æ—Å—å–±–µ). –ú–æ–∂–µ—à—å –≤–µ—Ä–Ω—É—Ç—å —Ü–µ–Ω—É, –µ—Å–ª–∏ –Ω–∞–¥–æ. -->
              <div class="price" id="mPrice">–¶–µ–Ω–∞: —É—Ç–æ—á–Ω–∏—Ç—å</div>
              <div class="muted">–ù–∞–∂–º–∏—Ç–µ ¬´–ö—É–ø–∏—Ç—å¬ª, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –≤ VK.</div>
            </div>

            <a id="buy" class="btn primary" href="https://vk.ru/eirinia" target="_blank" rel="noopener">–ö—É–ø–∏—Ç—å</a>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script>
    /*
      –î–ê–ù–ù–´–ï –¢–û–í–ê–†–û–í
      ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
      ‚úÖ –ú—ã –±–µ—Ä—ë–º —Å Edberries —Ç–æ–ª—å–∫–æ –ù–ê–ó–í–ê–ù–ò–ï –∏ –û–ü–ò–°–ê–ù–ò–ï.
      ‚úÖ –ö–∞—Ä—Ç–∏–Ω–∫–∏ ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ: —É–∫–∞–∂–∏ –ø—É—Ç–∏ —Ç–∏–ø–∞ "img/....jpg".

      –ö–∞–∫ —É–¥–æ–±–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:
      1) –ü–æ–ª–æ–∂–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ –ø–∞–ø–∫—É img —Ä—è–¥–æ–º —Å —ç—Ç–∏–º —Ñ–∞–π–ª–æ–º.
      2) –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞–ø–∏—à–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –≤ images: ["img/xxx-1.jpg", "img/xxx-2.jpg"]
      3) –í –∫–∞—Ä—Ç–æ—á–∫–µ –±—É–¥–µ—Ç –ø–µ—Ä–≤–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞, –∞ –≤ –º–æ–¥–∞–ª–∫–µ ‚Äî –∫–∞—Ä—É—Å–µ–ª—å.

      –ò—Å—Ç–æ—á–Ω–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤: edberries.store/power-english ([edberries.store](https://edberries.store/power-english/?currency=EUR&items_per_page=64&layout=products_without_options&sort_by=product&sort_order=asc&ysclid=123%C2%A4cy%3DRUB%C2%A4cy%3DEUR%C2%A4cy%3DEUR%C2%A4cy%3DRUB%C2%A4cy%3DEUR&utm_source=chatgpt.com))
    */

    const VK_BUY_URL = "https://vk.ru/eirinia";

    const PRODUCTS = [
      // ‚úÖ category: –æ–¥–Ω–∞ –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ñ–∏–ª—å—Ç—Ä–∞
      // "grammar" | "reading" | "thematic" | "other"
      {
        title: "–ö–Ω–∏–≥–∞ —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ A rainy day",
        category: "reading",
        short: "–ö–Ω–∏–≥–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ —Å –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–æ–π. –í —É—Ä–æ–∫ –≤—Å—Ç—Ä–æ–µ–Ω–æ –∞—É–¥–∏–æ. –¢–µ–º—ã: –ø–æ–≥–æ–¥–∞ –∏ —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è. Present Simple.",
        full: "–ö–Ω–∏–≥–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ —Å –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–æ–π. A rainy day –∏–∑ —Å–µ—Ä–∏–∏ Read and Imagine. –í —É—Ä–æ–∫ –≤—Å—Ç—Ä–æ–µ–Ω–æ –∞—É–¥–∏–æ. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤–≤–µ–¥–µ–Ω–∏—è —Ç–µ–º \"–ü–æ–≥–æ–¥–∞\" –∏ \"–°–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è\". –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —É—á–∞—â–∏—Ö—Å—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è. –¢–µ–∫—Å—Ç –Ω–∞–ø–∏—Å–∞–Ω –≤ Present Simple.",
        images: [
          "img/a-rainy-day-1.jpg",
          "img/a-rainy-day-2.jpg"
        ]
      },
      {
        title: "–ù–∞–±–æ—Ä —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π - A/An - article (Little Genius A)",
        category: "grammar",
        short: "\"–ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∞—Ä—Ç–∏–∫–ª—å A/An\" –≤ —Ñ–æ—Ä–º–∞—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –í–∑–Ω–∞–Ω–∏—è.",
        full: "\"–ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –∞—Ä—Ç–∏–∫–ª—å A/An\" –≤ —Ñ–æ—Ä–º–∞—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –í–∑–Ω–∞–Ω–∏—è.",
        images: [
          "img/a-an-article-1.jpg",
          "img/a-an-article-2.jpg"
        ]
      },
      {
        title: "–ù–∞–±–æ—Ä —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π - Articles (Grammar for schools 1)",
        category: "grammar",
        short: "Unit 3 Articles –∏–∑ Oxford Grammar for Schools 1.",
        full: "Unit 3 Articles –∏–∑ Oxford Grammar for Schools 1.",
        images: [
          "img/articles-grammar-for-schools-1-1.jpg"
        ]
      },
      {
        title: "–ö–Ω–∏–≥–∞ —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ At the zoo",
        category: "reading",
        short: "–ö–Ω–∏–≥–∞ –¥–ª—è —É—á–∞—â–∏—Ö—Å—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è. –¢–µ–∫—Å—Ç—ã, –∞—É–¥–∏–æ –∏ –∑–∞–¥–∞–Ω–∏—è. –¢–µ–º–∞: –∂–∏–≤–æ—Ç–Ω—ã–µ –∏ —á—Ç–æ –æ–Ω–∏ –µ–¥—è—Ç.",
        full: "–ö–Ω–∏–≥–∞ –¥–ª—è —É—á–∞—â–∏—Ö—Å—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è - At the zoo. –í —É—Ä–æ–∫–µ: —Ç–µ–∫—Å—Ç—ã, –∞—É–¥–∏–æ –∏ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ –ª–µ–∫—Å–∏–∫–∏ –∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏. –ü–æ–¥–æ–π–¥—ë—Ç –¥–ª—è –≤–≤–µ–¥–µ–Ω–∏—è –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è —Ç–µ–º—ã \"–ñ–∏–≤–æ—Ç–Ω—ã–µ\" –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω–∏ –µ–¥—è—Ç.",
        images: [
          "img/at-the-zoo-1.jpg",
          "img/at-the-zoo-2.jpg"
        ]
      },
      {
        title: "–ö–Ω–∏–≥–∞ —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ Camouflage",
        category: "reading",
        short: "–ö–Ω–∏–≥–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è –æ –º–∞—Å–∫–∏—Ä–æ–≤–∫–µ –∂–∏–≤–æ—Ç–Ω—ã—Ö. –¢–µ–∫—Å—Ç—ã, –∞—É–¥–∏–æ –∏ –∑–∞–¥–∞–Ω–∏—è. Present Simple.",
        full: "–ö–Ω–∏–≥–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è Camouflage –æ —Å–ø–æ—Å–æ–±–∞—Ö –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ –≤ –º–∏—Ä–µ –∂–∏–≤–æ—Ç–Ω—ã—Ö. –¢–µ–∫—Å—Ç—ã, –∞—É–¥–∏–æ –∏ –∑–∞–¥–∞–Ω–∏—è –∫ —É—á–µ–±–Ω–∏–∫—É —Å –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–æ–π. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–º \"–ñ–∏–≤–æ—Ç–Ω—ã–µ\", \"–ß–∞—Å—Ç–∏ —Ç–µ–ª–∞\". –¢–µ–∫—Å—Ç –Ω–∞–ø–∏—Å–∞–Ω –≤ Present Simple.",
        images: [
          "img/camouflage-1.jpg",
          "img/camouflage-2.jpg"
        ]
      },
      {
        title: "–ö–Ω–∏–≥–∞ —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ Can you see lions",
        category: "reading",
        short: "Present Simple + Present Continuous. –õ–µ–∫—Å–∏–∫–∞: –∂–∏–≤–æ—Ç–Ω—ã–µ, –≥–ª–∞–≥–æ–ª—ã. –¢–µ–∫—Å—Ç, –∞—É–¥–∏–æ –∏ –∑–∞–¥–∞–Ω–∏—è.",
        full: "–ö–Ω–∏–≥–∞ Can you see lions? –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç –≤ Present Simple, Present Continuous, –ª–µ–∫—Å–∏–∫–∞ \"–ñ–∏–≤–æ—Ç–Ω—ã–µ\", –≥–ª–∞–≥–æ–ª—ã. –í —É—Ä–æ–∫–∞—Ö ‚Äî —Ç–µ–∫—Å—Ç, –∞—É–¥–∏–æ, –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –ª–µ–∫—Å–∏–∫–∏ –∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏.",
        images: [
          "img/can-you-see-lions-1.jpg",
          "img/can-you-see-lions-2.jpg"
        ]
      },
      {
        title: "–ö–Ω–∏–≥–∞ —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ Clunk draws a picture",
        category: "reading",
        short: "–¢–µ–º–∞: —Ü–≤–µ—Ç–∞. –°—Ç—Ä—É–∫—Ç—É—Ä—ã: It‚Äôs + color / It isn‚Äôt + color. –¢–µ–∫—Å—Ç, –∞—É–¥–∏–æ –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è.",
        full: "–ö–Ω–∏–≥–∞ Clunk draws a picture. –û—Å–Ω–æ–≤–Ω–∞—è –ª–µ–∫—Å–∏—á–µ—Å–∫–∞—è —Ç–µ–º–∞ \"–¶–≤–µ—Ç–∞\", –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ It's + —Ü–≤–µ—Ç, It isn't + —Ü–≤–µ—Ç. –í —É—Ä–æ–∫–µ: —Ç–µ–∫—Å—Ç —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏, –∞—É–¥–∏–æ, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è.",
        images: [
          "img/clunk-draws-a-picture-1.jpg",
          "img/clunk-draws-a-picture-2.jpg"
        ]
      },
      {
        title: "–ö–Ω–∏–≥–∞ —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ Clunk in Space",
        category: "reading",
        short: "–ö–Ω–∏–≥–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è –∏–∑ —Å–µ—Ä–∏–∏ Read and Imagine. –¢–µ–∫—Å—Ç—ã, –∞—É–¥–∏–æ –∏ –∑–∞–¥–∞–Ω–∏—è. –¢–µ–º–∞: –∫–æ—Å–º–æ—Å.",
        full: "–ö–Ω–∏–≥–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è Clunk in Space –∏–∑ —Å–µ—Ä–∏–∏ Read and Imagine. –¢–µ–∫—Å—Ç—ã, –∞—É–¥–∏–æ –∏ –∑–∞–¥–∞–Ω–∏—è —Å –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–æ–π. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤–≤–µ–¥–µ–Ω–∏—è —Ç–µ–º—ã \"–ö–æ—Å–º–æ—Å\".",
        images: [
          "img/clunk-in-space-1.jpg",
          "img/clunk-in-space-2.jpg"
        ]
      },
      {
        title: "–ù–∞–±–æ—Ä —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π - Comparative and superlative form of adjectives",
        category: "grammar",
        short: "\"–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–∞—è —Å—Ç–µ–ø–µ–Ω—å –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã—Ö\" –Ω–∞ –í–∑–Ω–∞–Ω–∏—è.",
        full: "\"–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–∞—è —Å—Ç–µ–ø–µ–Ω—å –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã—Ö\" –Ω–∞ –í–∑–Ω–∞–Ω–∏—è.",
        images: [
          "img/comparative-superlative-1.jpg",
          "img/comparative-superlative-2.jpg"
        ]
      },
      {
        title: "Family and friends 1 Unit 1 (CB, WB, Extra practice, Grammar, FF Plus) –Ω–∞ –í–∑–Ω–∞–Ω–∏—è",
        category: "other",
        short: "–ü–æ–ª–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ Family and Friends 1 Unit 1 –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –í–∑–Ω–∞–Ω–∏—è.",
        full: "–ü–æ–ª–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ Family and Friends 1 Unit 1 –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –í–∑–Ω–∞–Ω–∏—è.",
        images: [
          "img/ff1-unit1-1.jpg",
          "img/ff1-unit1-2.jpg"
        ]
      }
    ];

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // –†–ï–ù–î–ï–†
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const grid = document.getElementById("grid");
    const q = document.getElementById("q");

    let filtered = [...PRODUCTS];

    // ‚úÖ –¢–µ–∫—É—â–∏–π —Ñ–∏–ª—å—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    let activeCategory = "all";

    // ‚úÖ –ö–Ω–æ–ø–∫–∏-—Ñ–∏–ª—å—Ç—Ä—ã
    const chips = document.querySelectorAll(".chip[data-filter]");
    chips.forEach(btn => {
      btn.addEventListener("click", () => {
        activeCategory = btn.dataset.filter || "all";
        chips.forEach(b => b.classList.toggle("active", b === btn));
        applyFilters();
      });
    });

    function escapeHtml(str){
      return String(str ?? "").replace(/[&<>\"']/g, (m) => ({
        "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"
      }[m]));
    }

    function render(list){
      grid.innerHTML = "";
      list.forEach((p, idx) => {
        const img = p.images?.[0] || "img/placeholder.jpg"; // ‚úÖ —Å–¥–µ–ª–∞–π placeholder.jpg –≤ –ø–∞–ø–∫–µ img

        const el = document.createElement("article");
        el.className = "card";
        el.innerHTML = `
          <button class="thumb" type="button" data-open="${idx}" aria-label="–û—Ç–∫—Ä—ã—Ç—å —Ç–æ–≤–∞—Ä">
            <img src="${img}" alt="${escapeHtml(p.title)}" loading="lazy"
                 onerror="this.onerror=null; this.src='img/placeholder.jpg'" />
                    </button>
          <div class="card-body">
            <h3 class="title">${escapeHtml(p.title)}</h3>
            <p class="desc">${escapeHtml(p.short)}</p>

            <div class="row">
              <div class="pill">–ú–∞—Ç–µ—Ä–∏–∞–ª</div>
              <div class="price">–¶–µ–Ω–∞: —É—Ç–æ—á–Ω–∏—Ç—å</div>
            </div>

            <div class="card-actions">
              <button class="btn primary" data-open="${idx}">–ö—É–ø–∏—Ç—å</button>
              <button class="btn" data-open="${idx}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
            </div>
          </div>
        `;
        grid.appendChild(el);
      });
    }

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // MODAL + CAROUSEL
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const overlay = document.getElementById("overlay");
    const closeBtn = document.getElementById("close");
    const prevBtn = document.getElementById("prev");
    const nextBtn = document.getElementById("next");
    const bigImg = document.getElementById("bigImg");
    const dots = document.getElementById("dots");

    const mTitle = document.getElementById("mTitle");
    const mDesc = document.getElementById("mDesc");
    const mPrice = document.getElementById("mPrice");
    const buy = document.getElementById("buy");

    let current = null;
    let slide = 0;

    function openModal(product){
      current = product;
      slide = 0;

      mTitle.textContent = product.title;
      mDesc.textContent = product.full || product.short || "";
      mPrice.textContent = "–¶–µ–Ω–∞: —É—Ç–æ—á–Ω–∏—Ç—å";
      buy.href = VK_BUY_URL;

      buildDots(product.images || []);
      showSlide(0);

      overlay.style.display = "flex";
      overlay.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }

    function closeModal(){
      overlay.style.display = "none";
      overlay.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
      current = null;
    }

    function showSlide(i){
      const imgs = current?.images || [];
      if(!imgs.length){
        bigImg.src = "img/placeholder.jpg";
        bigImg.alt = "";
        return;
      }

      slide = (i + imgs.length) % imgs.length;
      bigImg.src = imgs[slide];
      bigImg.alt = current?.title ? `${current.title} ‚Äî –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ${slide+1}` : "";
      bigImg.onerror = () => { bigImg.src = "img/placeholder.jpg"; };

      [...dots.children].forEach((d, idx) => d.classList.toggle("active", idx === slide));
    }

    function buildDots(imgs){
      dots.innerHTML = "";
      imgs.forEach((_, idx) => {
        const b = document.createElement("button");
        b.className = "dot" + (idx===0 ? " active" : "");
        b.type = "button";
        b.addEventListener("click", () => showSlide(idx));
        dots.appendChild(b);
      });

      const showNav = imgs.length > 1;
      prevBtn.style.display = showNav ? "grid" : "none";
      nextBtn.style.display = showNav ? "grid" : "none";
      dots.style.display = showNav ? "flex" : "none";
    }

    // events
    grid.addEventListener("click", (e) => {
      const t = e.target.closest("[data-open]");
      if(!t) return;
      const idx = Number(t.getAttribute("data-open"));
      const product = filtered[idx];
      if(product) openModal(product);
    });

    closeBtn.addEventListener("click", closeModal);
    overlay.addEventListener("click", (e) => { if(e.target === overlay) closeModal(); });

    document.addEventListener("keydown", (e) => {
      if(overlay.style.display !== "flex") return;
      if(e.key === "Escape") closeModal();
      if(e.key === "ArrowLeft") showSlide(slide - 1);
      if(e.key === "ArrowRight") showSlide(slide + 1);
    });

    prevBtn.addEventListener("click", () => showSlide(slide - 1));
    nextBtn.addEventListener("click", () => showSlide(slide + 1));

    // search
    function applySearch(val){
      // —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞
      const s = val.trim().toLowerCase();
      window.__search = s;
      applyFilters();
    }

    function applyFilters(){
      const s = (window.__search || "").trim().toLowerCase();

      // 1) —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
      let list = PRODUCTS;
      if(activeCategory !== "all"){
        list = list.filter(p => (p.category || "other") === activeCategory);
      }

      // 2) —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø–æ–∏—Å–∫—É
      if(s){
        list = list.filter(p => (p.title + " " + (p.short||"") + " " + (p.full||"")).toLowerCase().includes(s));
      }

      filtered = list;
      render(filtered);
    }

    q.addEventListener("input", () => applySearch(q.value));

    // first render
    render(filtered);
  </script>
</body>
</html>
